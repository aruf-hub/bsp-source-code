DROP TABLE C##ESTATE.ELEC_MASTER CASCADE CONSTRAINTS;

CREATE TABLE C##ESTATE.ELEC_MASTER
(
  SECTOR              VARCHAR2(2 BYTE),
  PLOT                VARCHAR2(4 BYTE),
  CONSUMER_NO         VARCHAR2(10 BYTE),
  LOCATION            VARCHAR2(35 BYTE),
  ADDRESS_L1          VARCHAR2(2 BYTE),
  ADDRESS_L2          VARCHAR2(30 BYTE),
  ADDRESS_L3          VARCHAR2(30 BYTE),
  METER_NO            VARCHAR2(15 BYTE),
  METER_MAKE          VARCHAR2(10 BYTE),
  METER_KW            NUMBER(4),
  NAME                VARCHAR2(50 BYTE),
  CONSUMER_TYPE       VARCHAR2(30 BYTE),
  PHASE               NUMBER(1),
  SUPPLY_PUR          VARCHAR2(10 BYTE),
  TARIFF_CATG         VARCHAR2(3 BYTE),
  CONSUMER_CATG       VARCHAR2(5 BYTE),
  LOAD_SANC           NUMBER(7,3),
  MULT_FACTOR         NUMBER(3),
  ASSD_CONSPN         NUMBER(7),
  USER_PERNO          VARCHAR2(6 BYTE),
  ENTRY_DT            DATE,
  METER_STATUS        VARCHAR2(2 BYTE),
  CUM_UNITS           NUMBER(10),
  CUM_ADJ             NUMBER(15,2),
  OLDCUM_ADJ          NUMBER(15,2),
  STATUS              VARCHAR2(1 BYTE),
  CUM_MON             NUMBER(3),
  REMARKS             VARCHAR2(50 BYTE),
  METER_TYPE          VARCHAR2(2 BYTE),
  SOLAR_METER_MAKE    VARCHAR2(10 BYTE),
  SOLAR_METER_KW      NUMBER(4),
  SOLAR_LOAD_SANC     NUMBER(5,1),
  SOLAR_PHASE         NUMBER(1),
  SOLAR_MULT_FACTOR   NUMBER(3),
  SOLAR_METER_STATUS  VARCHAR2(2 BYTE),
  SOLAR_METER_NO      VARCHAR2(15 BYTE)
)
TABLESPACE ES
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE;


CREATE UNIQUE INDEX C##ESTATE.ELEC_MASTER_PK ON C##ESTATE.ELEC_MASTER
(SECTOR, PLOT)
LOGGING
TABLESPACE ES
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           );

ALTER TABLE C##ESTATE.ELEC_MASTER ADD (
  CONSTRAINT ELEC_MASTER_PK
  PRIMARY KEY
  (SECTOR, PLOT)
  USING INDEX C##ESTATE.ELEC_MASTER_PK
  ENABLE VALIDATE);
