DROP TABLE C##ESTATE.TP_MAS CASCADE CONSTRAINTS;

CREATE TABLE C##ESTATE.TP_MAS
(
  PSNO           NUMBER(5),
  SECTOR         VARCHAR2(2 BYTE),
  PLOT           VARCHAR2(4 BYTE),
  ELEC_CODE      CHAR(1 BYTE),
  STATUS         CHAR(1 BYTE),
  NAME           VARCHAR2(50 BYTE)              NOT NULL,
  NATURE         VARCHAR2(25 BYTE),
  LOCATION       VARCHAR2(35 BYTE),
  TRADE          VARCHAR2(30 BYTE),
  LICENCE_FEE    NUMBER(6),
  WATER_CHGS     NUMBER(5),
  CONSERVANCY    NUMBER(5),
  OTHER_CHGS     NUMBER(4),
  METER_CHGS     NUMBER(2),
  INTEREST       NUMBER(6),
  LOAD_KW        NUMBER(5,2),
  LOAD_HP        NUMBER(5,2),
  STD_LUNITS     NUMBER(5),
  STD_PUNITS     NUMBER(5),
  LIGHT_CUM      NUMBER(10,2),
  LIGHT_YM_LAST  NUMBER(6)                      DEFAULT TO_NUMBER(TO_CHAR(SYSDATE, 'YYYYMM')),
  POWER_CUM      NUMBER(10,2),
  POWER_YM_LAST  NUMBER(6)                      DEFAULT TO_NUMBER(TO_CHAR(SYSDATE, 'YYYYMM')),
  DATE_UPD       DATE                           DEFAULT SYSDATE,
  USER_PERNO     VARCHAR2(6 BYTE),
  SHOP_CON_CODE  NUMBER(1),
  SERV_TAX_IND   CHAR(1 BYTE)                   DEFAULT 'N',
  TRADE_FEE      NUMBER(10),
  REMARKS        VARCHAR2(50 BYTE),
  GST_NO         VARCHAR2(15 BYTE),
  CREATION_DT    DATE                           DEFAULT SYSDATE,
  TKEY           VARCHAR2(10 BYTE)
)
TABLESPACE ES
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          1912K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE;


CREATE UNIQUE INDEX C##ESTATE.TPM_PK_SP ON C##ESTATE.TP_MAS
(SECTOR, PLOT)
LOGGING
TABLESPACE ES
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          392K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           );
